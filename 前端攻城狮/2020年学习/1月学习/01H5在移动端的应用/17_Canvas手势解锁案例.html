<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>æ‰‹åŠ¿è§£é”</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        canvas {
            border: 1px solid red;
        }

        section {
            width: 400px;
            margin: 0 auto;
        }

        section p {
            text-align: center;
        }
    </style>
</head>

<body>
    <section>
        <p>è¯·è§£é”ğŸ”“</p>
        <canvas id="myCanvas" height="400" width="400">æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒcanvasï¼</canvas>
    </section>
    <script>
        // è°ƒç”¨ç”»å¸ƒ
        var canvas = document.getElementById('myCanvas');
        var ctx = canvas.getContext('2d');
        // ç”»ç©ºå¿ƒåœ†
        for (var i = 75; i <= 325; i += 125) {
            for (var j = 75; j <= 325; j += 125) {
                ctx.beginPath();
                ctx.arc(i, j, 50, 0, Math.PI * 2, true);
                ctx.stroke();
            }
        }
        // æ‹–æ‹½åç”»å®å¿ƒåœ†

        // è·å¾—å½“å‰ç‚¹å‡»åæ ‡
        var po = {}
        setInterval(() => {
            
        }, 100);
        canvas.addEventListener('touchstart', function (e) {
            var rect = e.currentTarget.getBoundingClientRect(); // ç”»å¸ƒåœ¨é¡µé¢çš„ä½ç½®
            po = {
                x: e.touches[0].clientX - rect.left, // åœ†åœˆç›¸å¯¹äºç”»å¸ƒxçš„ä½ç½®
                y: e.touches[0].clientY - rect.top // åœ†åœˆç›¸å¯¹äºç”»å¸ƒyçš„ä½ç½®
            }
            return po;
            // arr ä»£è¡¨æ‰€æœ‰åœ†çš„å¤–æ¡†çŸ©å½¢èŒƒå›´
            // for (var i = 0; i < this.arr.length; i++) {
            //     if (Math.abs(po.x - this.arr[i].x) < this.r && Math.abs(po.y - this.arr[i].y) < this.r) {
            //         this.touchFlag = true;
            //         // lastPointå­˜æ”¾çš„å°±æ˜¯é€‰ä¸­çš„åœ†åœˆçš„x/yåæ ‡å€¼
            //         this.lastPoint.push(this.arr[i]);
            //         this.restPoint.splice(i, 1);
            //         break;
            //     }
            // }
        },true);

        canvas.addEventListener('touchend',function(e){
            ctx.moveTo(75,75);
            ctx.lineTo(po.x,po.y);
            ctx.stroke();
            ctx.closePath();
        });
    </script>
</body>

</html>