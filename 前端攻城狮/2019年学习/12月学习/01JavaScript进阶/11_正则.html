<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>æ­£åˆ™è¡¨è¾¾å¼</title>
    <script>
        var str = 'I love JS';
        var pattern = /jS/i;
        console.log(pattern.test(str)); // è¿”å›å¸ƒå°”å€¼
        console.log(pattern.exec(str)); // è¿”å›[]
        /* 
            ä¿®é¥°è¯ ï¼ˆæ³¨æ„ä¸è¦å–§å®¾å¤ºä¸»ï¼‰ï¼ˆæ”¯æŒéšæ„ç»„åˆï¼‰
            i ignoreCase å¿½ç•¥å¤§å°å†™
            g global å…¨å±€
            m multiline å¤šè¡ŒåŒ¹é…
        */
        /*
            /jS/iï¼ˆå†™æ­»ï¼‰ = new RegExp('js','i')ï¼ˆå¯æ›´æ”¹ï¼‰
        */
    </script>
    <script>
        // è½¬ä¹‰å­—ç¬¦
        // \ è½¬ä¹‰
        // å¦‚æœæ˜¯é€šè¿‡æ„é€ å‡½æ•°ï¼Œé‚£ä¹ˆéœ€è¦åŒé‡è½¬ä¹‰ \\ 
        var str1 = '\\\\';
        var pattern1 = /\\\\/;
        console.log(str1); // \\
        console.log(pattern1.exec(str1)); // [\\]
        // \n (\x0A) åŒ¹é…æ¢è¡Œ
        // \t åŒ¹é…tableé”®
        // \x61 = a
        // \u4e00-\u9fa5 ä¸­æ–‡å­—ç¬¦çš„èŒƒå›´
    </script>
    <script>
        // []
        var str2 = 'javascript';
        var pattern2 = /[js]/; // åŒ¹é…åˆ°[]æ‹¥æœ‰çš„å³å¯
        console.log(pattern2.exec(str2));
        // [^] å–å
        var str3 = 'javascript';
        var pattern3 = /[^js]/; // åŒ¹é…åˆ°[]æ‹¥æœ‰çš„å³å¯
        console.log(pattern3.exec(str3));
        // [a-zA-Z0-9] ä»å°åˆ°å¤§ ä¸å¯åè¿‡æ¥

        // . -> [^\n] é™¤äº†æ¢è¡Œç¬¦éƒ½èƒ½åŒ¹é… 

        // \w -> /[a-zA-Z0-9_]/
        // \W -> /[^a-zA-Z0-9_]/

        // \d -> /[0-9]/
        // \D -> /[^0-9]/

        // \s åŒ¹é…ç©ºæ ¼å’Œåˆ¶è¡¨ç¬¦å’Œç©ºç™½å­—ç¬¦
        // \S åè¿‡æ¥

        // {3} åŒ¹é…æ•°é‡ {1,2}æŒ‡å®šèŒƒå›´ {1,}åŒ¹é…å¤§äº1ä¸ª
        var str4 = '119';
        var pattern4 = /\d{3}/;
        console.log(pattern4.exec(str4));
        // ? -> {0,1}
        // + -> {1,}
        // * -> {0,}

        // è´ªå©ªåŒ¹é…åªä¸é‡è¯ç›¸å…³ï¼Œé»˜è®¤é‡‡ç”¨è´ªå©ªåŒ¹é…
        // ****ï¼Ÿ -> å°†è´ªå©ªåŒ¹é…è½¬æ¢æˆéè´ªå©ªåŒ¹é…(æœ€ååŠ ä¸ªï¼Ÿ)
        // æ­£åˆ™çš„å·¥ä½œç†å¿µæ˜¯é€‰ä¸­ç¬¬ä¸€ä¸ªå¯èƒ½åŒ¹é…çš„
    </script>
    <script>
        // | -> æˆ–

        // () -> åˆ†ç»„
        var str5 = 'ababcd';
        var pattern5 = /(ab)+/;
        var pattern6 = /(ab)c/; // æ•è·
        var pattern7 = /(?:ab)c/; // éæ•è·
        var pattern8 = /(ab)(c)/;
        var str9 = 'ab cd ab';
        var pattern9 = /(ab) cd \1/; // å¼•ç”¨ç¬¬ä¸€ä¸ªåˆ†ç»„(ab)
        console.log(pattern5.exec(str5));
        console.log(pattern6.exec(str5));
        console.log(pattern7.exec(str5));
        console.log(pattern8.exec(str5));
        console.log(pattern9.exec(str9));

        var str10 = '<p><a>æµ‹è¯•ä¸‹</a></p>';
        var pattern10 = /<([a-zA-Z]+)>(.*?)<\/\1>/;
        console.log(pattern10.exec(str10));
    </script>
    <script>
        // æŒ‡å®šåŒ¹é…ä½ç½®
        // ^ é¦–åŒ¹é…
        var str11 = 'js';
        var pattern11 = /^js/;
        console.log(pattern11.exec(str11));
        // $ å°¾åŒ¹é…
        // \b å•è¯çš„è¾¹ç•Œ
        var str12 = 'js html';
        var pattern12 = /js\b/;
        console.log(pattern12.exec(str11));
        // å‰ç»æ€§åŒ¹é…
        var str13 = 'javascript';
        var pattern13 = /java(?=script)/; //å¿…é¡»æ˜¯script æ‰èƒ½åŒ¹é…å‡º java
        console.log(pattern13.exec(str13));
        // åå‰ç»æ€§åŒ¹é…
        var str14 = 'javascript';
        var pattern14 = /java(?!script)/; //å¿…é¡»ä¸æ˜¯script æ‰èƒ½åŒ¹é…å‡º java
        console.log(pattern14.exec(str14));
    </script>
    <script>
        // RegExpå¯¹è±¡ æ³¨æ„è¦åŒé‡è½¬ä¹‰

        // RegExpå®ä¾‹æ–¹æ³•
        var pattern15 = /js/; // = ğŸ‘‡
        //                         ||
        var pattern16 = new RegExp('js');

        // exec() å¸¦æœ‰lastIndexå±æ€§
        // å¦‚æœä¸æ˜¯å…¨å±€åŒ¹é…ï¼Œexecä¼šä¸€ç›´æ‰¾ç¬¬ä¸€ä¸ª å°±æ˜¯è¯´ lastIndex ä¸€ç›´ä¸º0
        // å…¨å±€åŒ¹é…è¿™å›æ‰¾å®Œå…¨éƒ¨
        // åŒ¹é…çš„æ—¶å€™ï¼ŒlastIndexä¼šå˜åŒ– å½“stræ‰¾å®Œäº†ä¹‹åï¼Œä¼šé‡ç½®

        // test() å’Œ exec() å·®ä¸å¤š
    </script>
    <script>
        // String å¯¹è±¡ä¸­ä¸æ­£åˆ™è¡¨è¾¾å¼ç›¸å…³çš„æ–¹æ³•
        var str16 = 'html js';
        var pattern16 = /js/;
        console.log(str16.search(pattern16)); // 5
        console.log(str16.search('js')); // 5
        // search ä½¿ç”¨æ­£åˆ™æ¥åŒ¹é… 

        // match ä¸ exec æ¯”è¾ƒ
        // match å…¨å±€åŒ¹é…çš„æ—¶å€™ ä¸€æ¬¡æ€§è¿”å› å¹²å‡€åˆ©è½ï½
        // exec æ— è®ºå¦‚ä½• éƒ½åªæ˜¯è¿”å›å½“å‰åŒ¹é…åˆ°çš„ä¸€ä¸ªå†…å®¹ ç£¨ç£¨å”§å”§ï½

        // split ç”¨ä»€ä¹ˆæ¥åˆ†å‰²

        // replace
        var str17 ='I love it js';
        var pattern17 = /js/g;
        console.log(str17.replace('js','html'));
        console.log(str17.replace(pattern17,'html'));

        // ç²—å£æ¶ˆè¯
        var str18 = 'æˆ‘è‰æ³¥é©¬å“¥é€¼';
        var pattern18 = /è‰æ³¥é©¬|é€¼/g;
        console.log(str18.replace(pattern18,'*'));
        console.log(str18.replace(pattern18,function(e){
            var result = "";
            for(var i=0;i<e.length;i++){
                result+="*";
            }
            return result;
        }))
    </script>
<body>

</body>

</html>